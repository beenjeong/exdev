<meta charset="utf-8">
<script type="text/javascript">
	var <@pageId> = {
		 sampleVal : "예제 페이지입니다."
		
        ,getTechnicalSkills : function() {
           console.log("getTechnicalSkills");

           

           /* 바이어 */
           let buyerRequestParm = {};
           buyerRequestParm["SEARCH_ID"]    = "18da16ec36b14eb7";
           
           let buyerParm = {
                queryId        : "contract.getBuyerList"
               ,requestParm    : buyerRequestParm
           }
            
           C_COM.requestQuery(buyerParm, function(resultData) {
               console.log("length ==>"+resultData.data.length);
               console.log("BUYER_ID ==>"+resultData.data.BUYER_NM);
               for (var i=0; i< resultData.data.length; i++){
                   var obj = new Object();
                   obj.buyerId    = resultData.data[i].BUYER_ID;
                   obj.buyerNm  = resultData.data[i].BUYER_NM;
                   console.log("buyerId["+obj.buyerId+"] buyerNm["+obj.buyerNm+"]");
                   var buyerNm = " ["+obj.buyerNm+"]";
                   $("#buyerNm").text(buyerNm);
                }
               
            });
           
           /* 기술력 */
           let requestParm = {};
           requestParm["buyerId"]    = "18da16ec36b14eb7";
           requestParm["comCodeId"]  = "";
           requestParm["grpCodeId"]  = "TECHNICAL";
           requestParm["comCode"]    = "TECHNICAL_SKILLS_GRADE";
           
           let parm = {
                queryId        : "dashboardCertification.getCrtInfo"
               ,requestParm    : requestParm
           }
            
           C_COM.requestQuery(parm, function(resultData) {
               console.log("length ==>"+resultData.data.length);
               console.log("BUYER_ID ==>"+resultData.data.BUYER_ID);
               for (var i=0; i< resultData.data.length; i++){
                   var obj = new Object();
                   obj.buyerId    = resultData.data[i].BUYER_ID;
                   obj.grpCodeId  = resultData.data[i].GRP_CODE_ID;
                   obj.codeId     = resultData.data[i].CODE_ID;
                   obj.infoData   = resultData.data[i].INFO_DATA;
                   obj.infoDataNm = resultData.data[i].INFO_DATA_NM;
                   console.log("buyerId["+obj.buyerId+"] grpCodeId["+obj.grpCodeId+"] codeId["+obj.codeId+"] infoData["+obj.infoData+"] infoDataNm["+obj.infoDataNm+"]");
                   
                   $("#technical").text(obj.infoDataNm);
                }
               
            }); 

           /* 기업인증 */
           let certificationRequestParm = {};
           certificationRequestParm["buyerId"]    = "18da16ec36b14eb7";
           certificationRequestParm["comCodeId"]  = "CORPORATE_CERTIFICATION";
           certificationRequestParm["grpCodeId"]  = "CERTIFICATION";
           certificationRequestParm["comCode"]    = "CERTIFICATION_COMPLETE";
           
           let certificationParm = {
                queryId        : "dashboardCertification.getCrtInfo"
               ,requestParm    : certificationRequestParm
           }
            
           C_COM.requestQuery(certificationParm, function(resultData) {
               console.log( resultData.data);
               let rparm = {
                        targetId   : "certificationTableId"
                       ,list       : resultData.data
                   }
               C_COM.renderHtml("<@pageId>", rparm);
               
            }); 

           /* 산업재산권 */
           let propertyRequestParm = {};
           propertyRequestParm["buyerId"]      = "18da16ec36b14eb7";
           propertyRequestParm["comCodeId"]    = "INDUSTRIAL_PROPERTY";
           propertyRequestParm["grpCodeId"]    = "PROPERTY";
           propertyRequestParm["comCode"]      = "";
           
           
           let propertyParm = {
                queryId        : "dashboardCertification.getCrtInfo"
               ,requestParm    : propertyRequestParm
           }
            
           C_COM.requestQuery(propertyParm, function(resultData) {
               console.log( resultData.data);
               let rparm = {
                        targetId   : "propertyTableId"
                       ,list       : resultData.data
                   }
               C_COM.renderHtml("<@pageId>", rparm);
               
            }); 
        }	
	}
	// Page Load가 완료된후 실행 된다.
	C_PM.onLoadPage("<@pageId>", function() {
		<@pageId>.getTechnicalSkills();
	});
	// History back으로 이동해왔을 경우 이루틴이 실행된다.
	C_HM.onReturn("<@pageId>", function(pageId, data) {

	});
</script>

        <div class="cont_wrap">
            <div class="cont_top">
                <h2><i class="icon_bullet"></i>기업인증</h2><h4 id="buyerNm"></h4>
            </div>
            <div class="sec_scroll">
                <section class="sec_wrap">
                    <!-- 분류별 실적 -->
                    <div class="cont_box left">
                        <h3>기술력</h3>
                        <div>
                          <h4 id="technical"></h4>
                        </div>
                        <div class="box_division_wrap">
                            <ul class="status_wrap">
                                <li><i class="status meeting"></i><span>최우수</span></li>
                                <li><i class="status tel_consul"></i><span>우수</span></li>
                                <li><i class="status other_work"></i><span>양호</span></li>
                                <li><i class="status send_email"></i><span>보통</span></li>
                                <li><i class="status schedule"></i><span>미흡</span></li>
                                <li><i class="status seminar"></i><span>열위</span></li>
                            </ul>
                        </div>
                    </div>

                    <!-- 기업인증 -->
                    <div class="cont_box right">
                        <h3>기업인증</h3>
                        <!-- 테이블 -->
                        <div class="tbl01 col">
                            <table>
                                <caption>표 캡션</caption>
                                <colgroup>
                                    <col style="width:50%;"/>
                                    <col style="width:50%;"/>
                                </colgroup>
                                <thead>
                                    <tr>
                                        <th scope="col">제목</th>
                                        <th scope="col">인증여부</th>
                                    </tr>
                                </thead>
                                <tbody id="certificationTableId">
                                </tbody>
                                <script type="text/x-jsrender" id="certificationTableId_template">    
                                    {{for list}}
                                        <tr>
                                            <td>{{:CODE_ID_NM}}</td>
                                            <td>{{:INFO_DATA_NM}}</td>
                                        </tr>
                                    {{/for}}
                                </script>
                                <script type="text/x-jsrender" id="certificationTableId_noData_template">    
                                   <tr>    
                                       <td colspan=2>자료가 없습니다.</td>    
                                   </tr>
                                </script>
                            </table>
                        </div>
                    </div>
                </section>

                <section class="sec_wrap">
                    <div class="cont_box">
                        <h3>산업재산권</h3>
                        <!-- 테이블 -->
                        <div class="tbl01 col">
                            <table>
                                <caption>표 캡션</caption>
                                <colgroup>
                                    <col style="width:50%;"/>
                                    <col style="width:50%;"/>
                                </colgroup>
                                <thead>
                                    <tr>
                                        <th scope="col">제목</th>
                                        <th scope="col">건수</th>
                                    </tr>
                                </thead>
                                <tbody id="propertyTableId">
                                </tbody>
                                <script type="text/x-jsrender" id="propertyTableId_template">    
                                    {{for list}}
                                        <tr>
                                            <td>{{:CODE_ID_NM}}</td>
                                            <td>{{:INFO_DATA}} 건</td>
                                        </tr>
                                    {{/for}}
                                </script>
                                <script type="text/x-jsrender" id="propertyTableId_noData_template">    
                                   <tr>    
                                       <td colspan=2>자료가 없습니다.</td>    
                                   </tr>
                                </script>
                            </table>
                        </div>
                    </div>
                </section>
            </div>
        </div>