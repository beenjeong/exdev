<meta charset="utf-8">
<script type="text/javascript">
	var <@pageId> = {
		recvData : []	
		,requestParm :{}
		,backTo : () => {
			
			C_HM.historyBack();
			
		}
		,pageInit : (param) =>{
			
			for (var key in param) {
				
			    var value = param[key];

			    $(".info.parmVal").filter(function() {
			        return $(this).data("key") === key;
			    }).text(" : "+value);
			    $(".tc.parmVal").filter(function() {
			        return $(this).data("key") === key;
			    }).text( value);
			    
			}
			
	  		const USER_ID	= $(".employee_num.tc.parmVal").text();
	  		
			const $hrImg	= $("#<@pageId>_hrImg");
				
			$("#<@pageId>_hrImg").removeClass("no_img");
			
			$("#<@pageId>_hrImg img").length == 0 ? $hrImg.append("img"):'';
			
			$("#<@pageId>_hrImg img").on('error', () => $hrImg.children("img").attr("src", "../img/icon_noimg.png") );

			$hrImg.children("img").attr("src","../img/hrImg/img_"+USER_ID+".png");
			
		}
		,updateItem : (param) => {

			<@pageId>.requestParm = param ? param : {} ;
			<@pageId>.requestParm["SP_CSTM_ID"] = G_VAL.SP_CSTM_ID;
			
			var parm = {
						queryGroup : [
							 {
								 queryId 		: "hrInfo.updateHrInfo"
								,requestParm	: <@pageId>.requestParm
							 }
	  						,{
								 queryId 		: "hrInfo.updateSuretyInsurance"
								,requestParm	: <@pageId>.requestParm
							 } 
						]
			}
			C_COM.requestQuery(parm, function(resultData ) {

				if( resultData.state == "S"){
					console.log(<@pageId>.requestParm);

					<@pageId>.recvData = <@pageId>.requestParm;
					<@pageId>.pageInit( <@pageId>.requestParm );

				}else{
					alert(resultData.msg)
				}
			});				
		} 		
		,openPopup : () => {
			
			C_POP.open('popup_hrInfoUpdatePopup', {param:<@pageId>.recvData, mode:"U"}, function(retData) {
				
				if(isValid(retData)){
					<@pageId>.updateItem(retData);
				}
			});
			
		}
		,setHandler : () => {

		}
	}
	// Page Load가 완료된후 실행 된다.
	C_PM.onLoadPage("<@pageId>", function(param) {

		<@pageId>.recvData = param;
 		<@pageId>.pageInit( param );
 		<@pageId>.setHandler();

	});
	// History back으로 이동해왔을 경우 이루틴이 실행된다.
	C_HM.onReturn("<@pageId>", function(pageId, data) {

	});
</script>
<div class="cont_wrap">
	<div class="cont_top">
		<h2><a href="javascript:<@pageId>.backTo();" class="before"><i class="icon_long_arrow_left"></i>직원 인사 기록 카드</a></h2>
	</div>
	<div class="sec_scroll">
		<section class="sec_wrap col60_40">
			<div class="left">
				<section class="sec_wrap">
					<div class="cont_box">
						<div class="clearFix mb15">
							<h3 class="fl lh24">FA 인사정보</h3>
							<a href="javascript:<@pageId>.openPopup()" class="btn small select fr">수정</a>
						</div>
						<figure class="photo_wrap" id="<@pageId>_hrImg">
							<img src="../img/icon_noimg.png"/>
						</figure>
						<div class="employee_num tc parmVal" 	data-key="USER_ID"></div>
						<div class="name tc parmVal" 			data-key="USER_NM"></div>
						<ul class="info_wrap personnel">
							<li>
								<label>입사일</label>
								<div class="info parmVal" data-key="REG_DATE" >
								</div>
							</li>
							<li>
								<label>휴대전화</label>
								<div class="info parmVal" data-key="PHONE_NUM" >
								</div>
							</li>
							<li>
								<label>이메일</label>
								<div class="info parmVal" data-key="E_MAIL" >
								</div>
							</li>
							<li class="hauto">
								<label>주소</label>
								<div class="info lh20 parmVal" data-key="ADDR">
								</div>
							</li>
							<li>
								<label>신용입보</label>
								<div class="info parmVal" data-key="SURETY_INSURANCE_NM"></div>
							</li>
							<li>
								<label>가입금액</label>
								<div class="info parmVal" data-key="AMOUNT"></div>
							</li>
							<li>
								<label>가입일</label>
								<div class="info parmVal" data-key="INSURANCE_REG_DATE"></div>
							</li>
							<li>
								<label>만기일</label>
								<div class="info parmVal" data-key="INSURANCE_EXP_DATE"></div>
							</li>
						</ul>
					</div>
				</section>
			</div>
			<div class="right">
				<section class="sec_wrap">
					<div class="cont_box col2">
						<div class="clearFix mb15">
							<h3 class="fl lh24">학력</h3>
							<button class="btn small select fr">추가</button>
						</div>
						<!-- 테이블 -->
						<div class="tbl01 col">
							<table>
								<caption>학력 리스트</caption>
								<colgroup>
									<col style="width:15%;"/>
									<col style="width:20%;"/>
									<col style="width:25%;"/>
									<col style="width:25%;"/>
									<col style="width:15%;"/>
								</colgroup>
								<thead>
									<tr>
										<th scope="col">구분</th>
										<th scope="col">기간</th>
										<th scope="col">학교명</th>
										<th scope="col">전공분야</th>
										<th scope="col">졸업여부</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</div>
						<!-- paging -->
						<div class="paging">
							<a href="#none" class="btn_pg_first disabled">첫번째 페이지</a>
							<a href="#none" class="btn_pg_prev disabled">이전 페이지</a>
							<strong title="현재 페이지">1</strong>
							<a href="#none">2</a>
							<a href="#none">3</a>
							<a href="#none">4</a>
							<a href="#none">5</a>
							<a href="#none" class="btn_pg_next">다음 페이지</a>
							<a href="#none" class="btn_pg_last">마지막 페이지</a>
						</div>
					</div>
					<div class="cont_box col2">
						<div class="clearFix mb15">
							<h3 class="fl lh24">경력</h3>
							<button class="btn small select fr">추가</button>
						</div>
						<!-- 테이블 -->
						<div class="tbl01 col">
							<table>
								<caption>경력 리스트</caption>
								<colgroup>
									<col style="width:15%;"/>
									<col style="width:20%;"/>
									<col style="width:25%;"/>
									<col style="width:25%;"/>
									<col style="width:15%;"/>
								</colgroup>
								<thead>
									<tr>
										<th scope="col">구분</th>
										<th scope="col">기간</th>
										<th scope="col">학교명</th>
										<th scope="col">전공분야</th>
										<th scope="col">졸업여부</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</div>
						<!-- paging -->
						<div class="paging">
							<a href="#none" class="btn_pg_first disabled">첫번째 페이지</a>
							<a href="#none" class="btn_pg_prev disabled">이전 페이지</a>
							<strong title="현재 페이지">1</strong>
							<a href="#none">2</a>
							<a href="#none">3</a>
							<a href="#none">4</a>
							<a href="#none">5</a>
							<a href="#none" class="btn_pg_next">다음 페이지</a>
							<a href="#none" class="btn_pg_last">마지막 페이지</a>
						</div>
					</div>
				</section>

				<section class="sec_wrap">
					<div class="cont_box col2">
						<div class="clearFix mb15">
							<h3 class="fl lh24">직책 승급 스토리</h3>
							<button class="btn small select fr">추가</button>
						</div>
						<!-- 테이블 -->
						<div class="tbl01 col">
							<table>
								<caption>직책 승급 리스트</caption>
								<colgroup>
									<col style="width:39%;"/>
									<col style="width:30%;"/>
									<col style="width:30%;"/>
								</colgroup>
								<thead>
									<tr>
										<th scope="col">부서명</th>
										<th scope="col">직책</th>
										<th scope="col">발령일</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									</tbody>
							</table>
						</div>
						<!-- paging -->
						<div class="paging">
							<a href="#none" class="btn_pg_first disabled">첫번째 페이지</a>
							<a href="#none" class="btn_pg_prev disabled">이전 페이지</a>
							<strong title="현재 페이지">1</strong>
							<a href="#none">2</a>
							<a href="#none">3</a>
							<a href="#none">4</a>
							<a href="#none">5</a>
							<a href="#none" class="btn_pg_next">다음 페이지</a>
							<a href="#none" class="btn_pg_last">마지막 페이지</a>
						</div>
					</div>
					<div class="cont_box col2">
						<div class="clearFix mb15">
							<h3 class="fl lh24">경력</h3>
							<button class="btn small select fr">추가</button>
						</div>
						<!-- 테이블 -->
						<div class="tbl01 col">
							<table>
								<caption>학력 리스트</caption>
								<colgroup>
									<col style="width:15%;"/>
									<col style="width:20%;"/>
									<col style="width:25%;"/>
									<col style="width:25%;"/>
									<col style="width:15%;"/>
								</colgroup>
								<thead>
									<tr>
										<th scope="col">구분</th>
										<th scope="col">기간</th>
										<th scope="col">학교명</th>
										<th scope="col">전공분야</th>
										<th scope="col">졸업여부</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</div>
						<!-- paging -->
						<div class="paging">
							<a href="#none" class="btn_pg_first disabled">첫번째 페이지</a>
							<a href="#none" class="btn_pg_prev disabled">이전 페이지</a>
							<strong title="현재 페이지">1</strong>
							<a href="#none">2</a>
							<a href="#none">3</a>
							<a href="#none">4</a>
							<a href="#none">5</a>
							<a href="#none" class="btn_pg_next">다음 페이지</a>
							<a href="#none" class="btn_pg_last">마지막 페이지</a>
						</div>
					</div>
				</section>
			</div>
		</section>
	</div>
</div>