<meta charset="utf-8">
<script src="https://cdn.ckeditor.com/ckeditor5/41.0.0/classic/ckeditor.js"></script>
<script type="text/javascript">

    var <@pageId> = {
    		 userIndex : 0		
            ,userArr : []
            ,fileNo : 0
            ,filesArr : []
		    ,searchApproval : () => {
		        console.log("======= 부모창 searchApproval =======");
		        
		        let requestParm = {};
		        requestParm["state"]  = "REQUEST";
		                    
		     } 
		    ,apprReqPopup : function() {    
		        console.log("======= apprReqPopup =======>");
		        let requestParm = {}
		        C_POP.open('popup_apprReqPopup', requestParm, function() {
		            console.log("======= 부모창 retData =======");
		            <@pageId>.searchApproval();
		        });
		        
		     }
		   
    }    
    // Page Load가 완료된후 실행 된다.
    C_PM.onLoadPage("<@pageId>", function() {

        //조회 버튼 클릭      
        $('#<@pageId>_apprReqPopupBtn').on('click', function (e) {
            <@pageId>.apprReqPopup();
        })
    });
    // History back으로 이동해왔을 경우 이루틴이 실행된다.
    C_HM.onReturn("<@pageId>", function(pageId, data) {

    });
</script>
<div class="cont_wrap">
     <form method="POST" id="theForm" onsubmit="return false;" enctype="multipart/form-data">
         <div class="cont_top">
             <h2><i class="icon_bullet"></i>결재상신 Ckeditor Test</h2>
         </div>
         <section class="sec_wrap">
             <!-- search area -->
             <div class="search_area mt0">
                 <!-- 멀티 선택 -->
                 <div class="fl">
                     <div class="search_inputWrap">
                         제목 :   <input type='text'   id='title' name='title' value='windrider'> 
                     </div>
                 </div>
    
             </div>
             <div class="search_area mt0">
                 <!-- 멀티 선택 -->
                 <div class="fl">
                     <div class="search_inputWrap">
                         결재자검색 :   <input type='text'   id='<@pageId>requestUser' name='<@pageId>requestUser' value='windrider'> 
                     </div>
                 </div>
                 <button id='<@pageId>_memberSearchPopup'  >검색</button>
             </div>
             <div class="search_area mt0">
	             <!-- 결재자 -->    
	             <div class="member-list"></div>
             </div>
        
        
	         <div class="search_area mt0">
	             파일그룹 ID : <input type="text" name="groupId" id="groupId" value="TBL_EXP_APPROVAL"><br>
                 <input type="file" onchange="<@pageId>.addFile(this);" multiple />
                 <div class="file-list"></div>
                 <!-- 
	             <button onclick="<@pageId>.uploadMultiFile()">Upload</button>
	              -->
	             <div id="result"/>
	         </div>
	         
             <!-- 테이블 -->
             <div class="search_right">
                 <button type="button" class="btn select fl" id='<@pageId>_apprReqPopupBtn' ><strong title="현재 페이지">결재 상신</strong></button>
                 <button type="button" class="btn select fl"><strong title="현재 페이지">보류함</strong></button>
                 <button type="button" class="btn select fl"><strong title="현재 페이지">취소</strong></button>
             </div>
         </section>
     </form>            
</div>