<meta charset="utf-8">
<script type="text/javascript">
var <@popupId> = {
	 recvData : []	
 	 ,mode : ''
 	 ,updatingData : {NEW_USER:{},NEW_BUYER:{}}
 	 ,addCoworkRtnData : []
 	 ,addSalseManRtnData : []
 	 ,addSuggesterRtnData : []
 	 ,userId :''
 	 ,buyerId:''
 	 ,consultingId:''
 	 ,processState:''
 	 ,consultantUser:{}
	 ,close : function(returnData) {
		if(isEmpty(returnData)) returnData = {};
		C_POP.close(returnData);
	 }
 	 ,makeReturnData : (validCheck) => {
 		 
		 let returnData = {CONTRACT_ID : <@popupId>.updatingData["CONTRACT_ID"]};
		 const $inputs = $("#<@popupId>_items input");
		 $.each( $inputs, function(){

			 if( $(this).attr("id")){
				 let key = $(this).attr("id").replace("<@popupId>_","");
				 let val = $(this).val();
				 
				 if(key)
				 	returnData[key] = val;
			 }
		 })
		 returnData["CONTRACT_TYPE"]	= C_UICOM.getData("<@popupId>_selectContractType");
		 returnData["CONSULTING_CLASS"]	= C_UICOM.getData("<@popupId>_selectConsultingClass");
		 
		 returnData["USER_ID"]			= <@popupId>.userId;
		 returnData["BUYER_ID"]			= <@popupId>.buyerId;
		 returnData["CONSULTING_ID"]	= <@popupId>.consultingId;

		 returnData["CONTRACT_MEMBER"]	= <@popupId>.getContractMember(returnData["CONTRACT_ID"],returnData["USER_ID"]);
		 
		 if( validCheck && <@popupId>.validation(returnData) == false){
			 return null;
		 }
		 
		 return returnData;
 	 }
	 ,apply : (processState) =>{

		const returnData = <@popupId>.makeReturnData(false);
		 
		returnData["PROCESS_STATE"]	= <@popupId>.processState;
		 
		<@popupId>.close(returnData);
		 
	 }
	 ,validation : (returnData) =>{
	 
 		 if( isEmpty(returnData["BUYER_ID"]) ) {C_POP.alert("고객명을 입력하여 주십시오."); return false;}
 		 if( isEmpty(returnData["USER_ID"]) ) {C_POP.alert("계약담당자를 입력하여 주십시오."); return false;}
		 if( isEmpty(returnData["CONTACT_DATE"]) ) {C_POP.alert("상담일을 선택하여 주십시오."); return false;}
		 if( isEmpty(returnData["CONTRACT_DATE"]) ) {C_POP.alert("자문계약일을 선택하여 주십시오."); return false;}
		 if( isEmpty(returnData["EXPIRE_DATE"]) ) {C_POP.alert("만료일을 선택하여 주십시오."); return false;}
		 if( returnData["CONTRACT_TYPE"] == '--'  ) {C_POP.alert("계약구분을 선택하여 주십시오."); return false;}
		 if( isEmpty(returnData["TOTAL_COST"]) ) {C_POP.alert("총계약금액을 입력하여 주십시오."); return false;}
		 if( isEmpty(returnData["CONSULTING"]) ) {C_POP.alert("컨설팅 상품을 입력하여 주십시오."); return false;}
		 if( returnData["CONSULTING_CLASS"] == '--'  ) {C_POP.alert("컨설팅 분야를 선택하여 주십시오."); return false;}
		 if( isEmpty(returnData["TAX_MNG"]) ) {C_POP.alert("세무담당을 입력하여 주십시오."); return false;}
		 if( isEmpty(returnData["LABOR_MNG"]) ) {C_POP.alert("노무담당을 입력하여 주십시오."); return false;}
		 if( <@popupId>.getContractMember().length == 0) {C_POP.alert("코웍 사원을 등록하여 주십시오."); return false;}
		 
		 return true;
		 
	 }
	,pageInit : () => {
		
		<@popupId>.setTitleHeight();
		
		$("#<@popupId>_CONSULTANT_NM").text(<@popupId>.consultantUser.NM);
		
		$("#<@popupId>_salesManList td#ROLE_NM" ).html(<@popupId>.updatingData.CONSULTANT_ROLE_NM);
		$("#<@popupId>_salesManList td#USER_ID" ).html(<@popupId>.updatingData.USER_ID);
		$("#<@popupId>_salesManList td#USER_NM" ).html(<@popupId>.updatingData.USER_NM);
		$("#<@popupId>_salesManList td#GRADE_NM").html(<@popupId>.updatingData.CONSULTANT_GRADE_NM);
		
		let CONTRACT_TYPE,CONSULTING_CLASS;
		
		Object.entries(<@popupId>.updatingData).forEach(([key, val]) => {
		    $("#<@popupId>_" + key).val(val);
		    if( key == "TOTAL_COST")$("#<@popupId>_TOTAL_COST").val( addComma(val) );
		});				
		
		<@popupId>.savedContractMemberSearch();
		
		<@popupId>.memberSet('old');
		
		const consultingTypeNm	= <@popupId>.updatingData["CONSULTING_TYPE_NM"];
		const consultingNm		= <@popupId>.updatingData["CONSULTING_NM"];
		
		if( consultingNm ){
			
			$("#<@popupId>_CONSULTING").val( `${consultingNm} ( ${consultingTypeNm} )`);
			
		}

		CONTRACT_TYPE		= <@popupId>.updatingData["CONTRACT_TYPE"];
		CONSULTING_CLASS	= <@popupId>.updatingData["CONSULTING_CLASS"];

		<@popupId>.setSelectBox(CONTRACT_TYPE,CONSULTING_CLASS);

		<@popupId>.setByProcessState();
		
		//$("button[uid='<@popupId>_selectProcessStatus']").prop("disabled",true)
	}
	,setDisableModeItems : () => {
		
		$("#<@popupId>_BUYER").css("margin-top","7px").text($("#<@popupId><@popupId>_BUYER_val").val())
		$("#<@popupId><@popupId>_BUYER_val+a").hide()
		$("#<@popupId><@popupId>_BUYER_val").hide();
		
		$("#<@popupId>_USER").css("margin-top","7px").text($("#<@popupId><@popupId>_USER_val").val())
		$("#<@popupId><@popupId>_USER_val+a").hide()
		$("#<@popupId><@popupId>_USER_val").hide();
		
		$("#<@popupId>_CONSULTING").next().after("<div style='margin-top:7px'>" + $("#<@popupId>_CONSULTING").val() + "</div>");
		$("#<@popupId>_CONSULTING+a").hide();
		$("#<@popupId>_CONSULTING").hide();
		
	}
	,setByProcessState : () => {

		//if( "<@processState>" == "ON_CONTRACTED_APPR" || "<@processState>" == "CONTRACTED"){
		if( "<@processState>".indexOf("CONTRACTED") > -1 ){

			if( <@popupId>.resulting == "Y"){
				
				<@popupId>.setDisableModeItems();
				
				setTimeout( ()=>{
					$("#<@popupId>_addCowork").hide();
					$("#<@popupId> button .icon_trash").hide()

				},300)
				
			}else{
				
				<@popupId>.setDisableModeItems();
				
			}
			
		}
		
		//if( "<@processState>" == "ON_COMPLETED_APPR" || "<@processState>" == "COMPLETED"){
		if( "<@processState>".indexOf("COMPLETED") > -1 ){

				<@popupId>.setDisableModeItems();
				
				setTimeout( ()=>{
					$("#<@popupId>_applyBtn").hide();
					$("#<@popupId>_addCowork").hide();
					$("#<@popupId>_coworkList button").hide();
					$("#<@popupId>_selectContractType").children().prop("disabled",true)
					$("#<@popupId>_selectConsultingClass").children().prop("disabled",true)
					$("#<@popupId> .ui-datepicker-trigger").hide();
					$("#<@popupId> .datepicker").prop("disabled",true);
					$("#<@popupId> input[type='text']").prop("disabled",true)
					$("#<@popupId> button .icon_trash").hide()
				},300)

		}
		
	}
	,setSelectBox : (CONTRACT_TYPE,CONSULTING_CLASS) => {
		
		const processState = C_COM.getCodeList("PROCESS_STATE");
		const exPreContract = processState.map( item => { return item[0] !='PRE_CONTRACT' ? item :'' });
		
		C_UICOM.makeSelectBox({ 
				 data 			: exPreContract
			 	,targetId 		: "<@popupId>_selectProcessStatus" 
		}, "single");
		C_UICOM.setSingleBox("<@popupId>_selectProcessStatus" , "<@processState>");
		
		C_UICOM.makeSelectBox({ 
			 defaultItem 	: ["--", "선택"]
			,data : C_COM.getCodeList("CONTRACT_TYPE")
 			,targetId : "<@popupId>_selectContractType" }, "single");
		if( CONTRACT_TYPE ) 
			C_UICOM.setSingleBox("<@popupId>_selectContractType", CONTRACT_TYPE);
		
		C_UICOM.makeSelectBox({ 
			 defaultItem 	: ["--", "선택"]
			,data : C_COM.getCodeList("CONSULTING_CLASS")
 			,targetId : "<@popupId>_selectConsultingClass" }, "single");
		if( CONSULTING_CLASS ) 
			C_UICOM.setSingleBox("<@popupId>_selectConsultingClass", CONSULTING_CLASS);
		
	}
	,savedContractMemberSearch : () => {
		
		const CONTRACT_ID = <@popupId>.updatingData["CONTRACT_ID"]
		var parm = {
				 queryId 		: "contract.getContractMemberList"
				,requestParm	: {CONTRACT_ID : CONTRACT_ID}
		}

		C_COM.requestQuery(parm, function(resultData) {
			
			<@popupId>.addCoworkRtnData	= resultData.data.filter( member => member.RELATION_TYPE == 'COWORK');
			
			var rparm1 = {
					 targetId 		: "<@popupId>_coworkList"
					,list			: <@popupId>.addCoworkRtnData
			}
			C_COM.renderHtml("<@popupId>", rparm1);
			
		});
	}
	,selectRecommender : (recommId) => {
	
		const requestParm = {};
		
		var parm = {
				 queryId 		: "system.getUser"
				,requestParm	: {USER_ID : recommId}
		}

		C_COM.requestQuery(parm, function(resultData) {

			if( resultData.data ){
				
				<@popupId>.RECOMMENDER 	= resultData.data[0];
				const recommender 		= resultData.data[0];
				$("#<@popupId>_suggester td#ROLE_NM").attr("ROLE_NM", recommender.ROLE_NM).html(recommender.ROLE_NM)
				$("#<@popupId>_suggester td#USER_ID").attr("USER_ID", recommender.USER_ID).html(recommender.USER_ID)
				$("#<@popupId>_suggester td#USER_NM").attr("USER_NM", recommender.USER_NM).html(recommender.USER_NM)
				$("#<@popupId>_suggester td#GRADE_NM").attr("GRADE_NM", recommender.GRADE_NM).html(recommender.GRADE_NM)
				
			}

		});
		
	}
	,setTitleHeight : () => {
		
		let title = <@popupId>.mode == "I" ? "계약 등록" : "계약 정보 수정";
		if( "<@processState>".indexOf("COMPLETED") > -1 )title = "계약 정보";
  	 	$("#<@popupId> .tit").html( title );
		
	}
	,memberSet : (gubun) => {

		if( gubun == 'old'){
			
			const buyerId	= <@popupId>.updatingData["BUYER_ID"];
			const buyerNm	= <@popupId>.updatingData["BUYER_NM"];
			if( buyerId ){
				$("#<@popupId>_BUYER").val(buyerNm+ " ("+buyerId+")");
			}
			
			const userId	= <@popupId>.updatingData["USER_ID"];
			const userNm	= <@popupId>.updatingData["USER_NM"];
			const recommId	= <@popupId>.updatingData["RECOMMENDER_ID"]
			if( userId ){
				$("#<@popupId>_USER").val(userNm+ " ("+userId+")");
				if( recommId )<@popupId>.selectRecommender(recommId);
			}
			
		}else{

			const newBuyer  = <@popupId>.updatingData["NEW_BUYER"];
			if( newBuyer ){
				const buyerId	= newBuyer["BUYER_ID"];
				const buyerNm	= newBuyer["BUYER_NM"];
				if( buyerId)$("#<@popupId>_BUYER").val(buyerNm+ " ("+buyerId+")");
			}
			
			const newUser  	= <@popupId>.updatingData["NEW_USER"];
			if( newUser ){
				const 	userId	= newUser["USER_ID"];
				const 	userNm	= newUser["USER_NM"];
				const	recommId= newUser["RECOMMENDER_ID"];
				if( userId){
					$("#<@popupId>_USER").val(userNm+ " ("+userId+")");

					if( recommId )<@popupId>.selectRecommender(recommId);
					else{
						$("#<@popupId>_suggester td#ROLE_NM").attr("ROLE_NM", '').html("")
						$("#<@popupId>_suggester td#USER_ID").attr("USER_ID", '').html("")
						$("#<@popupId>_suggester td#USER_NM").attr("USER_NM", '').html("")
						$("#<@popupId>_suggester td#GRADE_NM").attr("GRADE_NM", '').html("")
					}
					
 					$("#<@popupId>_salesManList td#ROLE_NM").html(newUser.ROLE_NM);
					$("#<@popupId>_salesManList td#USER_ID").html(newUser.USER_ID);
					$("#<@popupId>_salesManList td#USER_NM").html(newUser.USER_NM);
					$("#<@popupId>_salesManList td#GRADE_NM").html(newUser.GRADE_NM);
				}
			}
		}

	}
	,consultingSearchPopup : () => {
		
		let param = {searchText:""};

		C_POP.open('popup_contract_consultingSearchPopup', {param:param}, function(retData) {

			const consultingNm	= retData["CONSULTING_NM"];
			const consultingTypeNm= retData["CONSULTING_TYPE_NM"];
			if( !isEmpty(consultingNm) ){
				<@popupId>.updatingData["CONSULTING_ID"]	= retData["CONSULTING_ID"] ;
				<@popupId>.consultingId=  retData["CONSULTING_ID"] ;
				$("#<@popupId>_CONSULTING").val( `${consultingNm} ( ${consultingTypeNm} )` );
			}
			
		});
	}
	,setHandler : () => {

		$("#<@popupId>_addCowork").on('click', (event) => {
			
			event.preventDefault();
			const CONTRACT_ID	= 	<@popupId>.updatingData["CONTRACT_ID"] ;
			const USER_ID		=	<@popupId>.userId ;
			const contractMember= 	<@popupId>.getContractMember(CONTRACT_ID, USER_ID);

			let param = {"ALL_MEMBERS": contractMember};
			C_POP.open('popup_system_memberSearchPopup', {param:param, gubun:'COWORK'}, function(retData) {

				if( isEmpty(retData) == false ){
					<@popupId>.addCoworkRtnData.push( retData );
					var rparm = {
							 targetId 		: "<@popupId>_coworkList"
							,list			: <@popupId>.addCoworkRtnData
					}
					
					C_COM.renderHtml("<@popupId>", rparm);
				}
			});
			
		})
		 		
/* 		$("a[name^='<@popupId>_tab']").on('click', (obj) =>{

			const curClicked	= $(obj.target).attr("name").indexOf("tab1") > -1 ? true:false;				
			const curtab1 		= $("#popup_contract_contractUpdatePopup_tab1").is(":visible");
			
			if( curClicked == curtab1)return;

		    $('a[name^="<@popupId>_tab"]').parent().toggleClass('active');
		    $('#<@popupId>_tab1, #<@popupId>_tab2').toggle();

		}) */
		
		$("a[name^='<@popupId>_tab']").on('click', (obj) => {
			
		    const targetName = $(obj.target).attr("name");
		    
		    $("a[name^='<@popupId>_tab']").parent().removeClass('active');
		    $('#<@popupId>_tab1, #<@popupId>_tab2').hide();

		    $(obj.target).parent().addClass('active');
		    $("#" + targetName).show();

		    setTimeout(()=>{if( !$("#" + targetName).is(':visible') )$("#" + targetName).show();},10)
		    
		});		
			 
	} 
	,getContractMember : (CONTRACT_ID, USER_ID) => {
		
		let contractMember = []
		
		var obj = {
				'CONTRACT_ID'		:	CONTRACT_ID,
	            'USER_ID'			: 	<@popupId>.consultantUser.ID,//$('#<@popupId>_salesManList tr #USER_ID').html(),
	            'RELATION_TYPE'		:	'EXECUTE',
		};
		contractMember.push( obj );
        
        $('#<@popupId>_coworkList tr').each(function() {

            var $cells = $(this).find('td');

            var obj = {
            	'CONTRACT_ID'		:	CONTRACT_ID,
                'USER_ID'			: 	$cells.eq(0).attr('value'),
                'RELATION_TYPE'		:	'COWORK',
            };

            contractMember.push(obj);
        });

         $('#<@popupId>_salesManList tr').each(function() {

            var $cells = $(this).find('td');

            var obj = {
                	'CONTRACT_ID'		:	CONTRACT_ID,
                    'USER_ID'			: 	$cells.eq(1).html(),
                    'RELATION_TYPE'		:	'SALES',
                };

            contractMember.push(obj);
        });

		var obj = {
		'CONTRACT_ID'		:	CONTRACT_ID,
		'USER_ID'			: 	$('#<@popupId>_suggester tr #USER_ID').attr("USER_ID"),
		'RELATION_TYPE'		:	'SUGGESTER',
		};

		contractMember.push(obj);
        
        return contractMember.filter( member => member.USER_ID );
    }
	,deleteMemeberRow : ( obj ) => {
		
		C_POP.confirm('관련자 정보를 삭제하시겠습니까?', function() {
			
			const trName = $(obj).closest("tr").attr("name").replace("overriding_","");
			const userId = $(obj.parentNode.parentNode).find("#USER_ID").attr("value");
			const relationType =  trName.toUpperCase();
	
	 		switch( relationType )
			{
				case "COWORK" :
					<@popupId>.addCoworkRtnData		= <@popupId>.addCoworkRtnData.filter(member => member.USER_ID !== userId);
					break;
				default:
			}
	 		
	 		obj.parentNode.parentNode.remove();
		});
		
	}
	,setComponent : () => {
		
		let parm = {
			 gubun 			: "BUYER"
			,placeholder 	: "고객명(고객번호)"
			,defaultInfo	: <@popupId>.updatingData
		}
		C_COMP.import("<@popupId>_BUYER", "component_common_compSelectUser",parm , function(retData) {

			<@popupId>.updatingData["NEW_BUYER"]	= retData ;
			<@popupId>.buyerId = retData["BUYER_ID"]
			<@popupId>.memberSet('new');
			
		});	

		let parm2 = {
			 gubun 			: "USER"
			,placeholder 	: "사원이름(사원ID)"
			,defaultInfo	: <@popupId>.updatingData
		}
		C_COMP.import("<@popupId>_USER", "component_common_compSelectUser",parm2 , function(retData) {
			
			<@popupId>.updatingData["NEW_USER"]	= retData ;
			<@popupId>.userId = retData["USER_ID"]
			<@popupId>.memberSet('new');
			
		});	
	}

}
// Popup Load가 완료된후 실행 된다.
C_POP.onLoadPopup("<@popupId>", function(data) {

	<@popupId>.recvData			= data;
	<@popupId>.mode				= <@popupId>.recvData.mode;
	<@popupId>.updatingData		= <@popupId>.recvData.param;
	
	//for TEST : <@popupId>.updatingData.RESULTING ="";
	
	<@popupId>.resulting		= <@popupId>.updatingData?.RESULTING; //$("#<@popupId>_peek").text(<@popupId>.resulting) ;
	<@popupId>.userId 			= <@popupId>.updatingData?.USER_ID;
	<@popupId>.buyerId 			= <@popupId>.updatingData?.BUYER_ID;
	<@popupId>.consultingId		= <@popupId>.updatingData?.CONSULTING_ID;
	<@popupId>.consultantUser	= {ID:<@popupId>.updatingData?.CONSULTANT_USER_ID, 
								   NM:<@popupId>.updatingData?.CONSULTANT_USER_NM};
	
	<@popupId>.setComponent();
	
	<@popupId>.pageInit();
	
	<@popupId>.setHandler();
});
</script>
<div class="modal_wrap">
	<div class="modal" style="width:680px;height:720px;">
		<div class="modal_header">
			<strong class="tit">계약 등록</strong>
			<button type="button" class="btn_close"><span class="sp" onclick="<@popupId>.close()">팝업 닫기</span></button>
		</div>
		<div class="modal_body" id="<@popupId>_items">
				<!-- tap area -->
				<div class="tab_wrap mt15" style="height:calc(100% - 15px);">
					<ul>
						<li class="active"><a href="javascript:void(0)" name="<@popupId>_tab1">계약정보</a></li>
						<li><a href="javascript:void(0)" name="<@popupId>_tab2">관련자정보</a></li>
					</ul>
					<div class="tab_content">
						<div id="<@popupId>_tab1" class="display" style='display:block;'>
							<ul class="info_wrap col2 pay">
								
								<li>
									<label>계약 상태</label>
									<div class="info">
										<div id="<@popupId>_peek"></div>
										<!-- <div class="search_inputWrap" style="width:45%;margin-top:7px;"><@processStateNm></div> -->
										<div id="<@popupId>_selectProcessStatus" class="select_box" style="width:100%; float: right !important;"></div>
								</li>
								
								<li style="visibility: hidden;">
									<label></label>
									<div class="info"><input type="text" style="width:100%" disabled></div>
								</li>

								<li class="w100">
									<label>고객선택</label>
									<div class="info">
										<div class="search_inputWrap" style="width:100%" id="<@popupId>_BUYER">
										</div>
									</div>
								</li>
								<li class="w100 ml0">
									<label>계약담당자</label>
									<div class="info">
										<div class="search_inputWrap" style="width:100%" id="<@popupId>_USER">
										</div>
									</div>
								</li>
								<li>
									<label>상담일</label>
									<div class="info">
										<div class="calendar_wrap">
											<input type="text" class="datepicker" id="<@popupId>_CONTACT_DATE" style="width:100%" required>
										</div>
									</div>
								</li>
								<li>
									<label>자문계약일</label>
									<div class="info">
										<div class="calendar_wrap">
											<input type="text" class="datepicker" id="<@popupId>_CONTRACT_DATE" style="width:100%">
										</div>
									</div>
								</li>
								
								<li>
									<label>만료일</label>
									<div class="info">
										<div class="calendar_wrap">
											<input type="text" class="datepicker" id="<@popupId>_EXPIRE_DATE"  style="width:100%">
										</div>
									</div>
								</li>
								
								<li style="visibility: hidden;">
									<label></label>
									<div class="info"><input type="text" style="width:100%" disabled></div>
								</li>
																
								<li class="w100">
									<label>계약구분</label>
									<div class="info">
										<!-- 싱글 선택 -->
										<div id="<@popupId>_selectContractType" column = "CONTRACT_TYPE" class="select_box" style="width:100%">
						                </div>
									</div>
								</li>
								<li class="ml0">
									<label>총계약금액</label>
									<div class="info">
										<input type="text"  id="<@popupId>_TOTAL_COST" style="width:100%" number>
									</div>
								</li>
								<li class="w100">
									<label>컨설팅 상품</label>
									<div class="info">
										<div class="search_inputWrap" style="width:100%">
											<input type="search" id="<@popupId>_CONSULTING" placeholder="상품명(상품TYPE)">
											<a href="javascript:void(0);" class="search_btn"  onclick="<@popupId>.consultingSearchPopup();">
											<i class="icon_search"></i></a>
										</div>
									</div>
								</li>
								<li class="w100 ml0">
									<label>컨설팅 분야</label>
									<div class="info">
										<!-- 싱글 선택 -->
										<div id="<@popupId>_selectConsultingClass" column = "CONSULTING_CLASS" class="select_box" style="width:100%"></div>
									</div>	
								</li>
								<li>
									<label>세무담당</label>
									<div class="info">
										<input type="text" id='<@popupId>_TAX_MNG' style="width:100%">
									</div>
								</li>
								<li>
									<label>노무담당</label>
									<div class="info">
										<input type="text" id='<@popupId>_LABOR_MNG' style="width:100%">
									</div>
								</li>
							</ul>
						</div>
						<div id="<@popupId>_tab2" class="display" style="overflow:auto;">
							<dl class="info_wrap pay mt0">
								<dt class="mb0">담당 컨설턴트 :</dt>
								<dd class="mb0" id="<@popupId>_CONSULTANT_NM"></dd>
							</dl>
							<!-- 코웍 사원 등록  -->
							<div class="search_area">
								<span class="tit02">코웍 사원 등록</span>
								<div class="search_right">
									<a class="btn small fr" href="#" id="<@popupId>_addCowork">추가</a>
								</div>
							</div>
							<!-- 테이블 -->
							<div class="tbl01 col">
								<table>
									<caption>표 캡션</caption>
									<colgroup>
										<col style="width:25%;"/>
										<col style="width:25%;"/>
										<col style="width:25%;"/>
										<col style="width:20%;"/>
									</colgroup>
									<thead>
										<tr>
											<th scope="col">사원ID</th>
											<th scope="col">사원 이름</th>
											<th scope="col">등급</th>
											<th scope="col"><i class="icon_trash"></i></th>
										</tr>
									</thead>
							<tbody  id="<@popupId>_coworkList">
							</tbody>
							<script type="text/x-jsrender" id="<@popupId>_coworkList_template">						
							{{for list}}
							<tr name="overriding_cowork">
				 					<td id='USER_ID'		 value='{{:USER_ID}}'		>{{:USER_ID}}</td>
				 					<td id='USER_NM'		 value='{{:USER_NM}}'		>{{:USER_NM}}</td>
									<td id='GRADE'			 value='{{:GRADE}}'			>{{:GRADE}}</td>
									<td><button onClick="<@popupId>.deleteMemeberRow(this);"><i class="icon_trash"></i></button></td>
							</tr>
							{{/for}}
							</script>
							<script type="text/x-jsrender" id="<@popupId>_coworkList_noData_template">	
								<tr>	
									<td colspan=4>등록된 사원이 없습니다.</td>	
								</tr>
							</script>
							</table>
			
							</div>
							<!-- 영업담당사원 등록  -->
							<div class="search_area mt25">
								<span class="tit02">영업담당사원</span>
							</div>
							<!-- 테이블 -->
							<div class="tbl01 col">
								<table>
									<caption>표 캡션</caption>
									<colgroup>
										<col style="width:25%;"/>
										<col style="width:25%;"/>
										<col style="width:25%;"/>
										<col style="width:25%;"/>
									</colgroup>
									<thead>
										<tr>
											<th scope="col">직책</th>
											<th scope="col">사원ID</th>
											<th scope="col">사원 이름</th>
											<th scope="col">등급</th>
										</tr>
									</thead>
								<tbody  id="<@popupId>_salesManList">
										<tr>
						 					<td id='ROLE_NM' ></td>
						 					<td id='USER_ID' ></td>
						 					<td id='USER_NM' ></td>
						 					<td id='GRADE_NM'></td>
										</tr>
								</tbody>
								</table>
							</div>
							<div class="search_area mt25">
								<span class="tit02">추천인</span>
							</div>
							<div class="tbl01 col">
								<table>
									<caption>추천인 리스트 </caption>
									<colgroup>
										<col style="width:25%;"/>
										<col style="width:25%;"/>
										<col style="width:25%;"/>
										<col style="width:25%;"/>
									</colgroup>
									<thead>
										<tr>
											<th scope="col">직책</th>
											<th scope="col">사원ID</th>
											<th scope="col">사원 이름</th>
											<th scope="col">등급</th>
										</tr>
									</thead>
									<tbody  id="<@popupId>_suggester">
										<tr>
						 					<td id='ROLE_NM'></td>
						 					<td id='USER_ID' ></td>
						 					<td id='USER_NM' ></td>
						 					<td id='GRADE_NM'></td>
										</tr>
									</tbody>
								</table>
  							</div>
						</div>
					</div>
				</div>
		</div> <!-- //modal_body -->

		<div class="modal_footer">
			<!-- <button type="button" class="btn select" id="<@popupId>_approvalBtn" 	onclick="<@popupId>.approval()" style="display:none;">체결완료결재</button> -->
			<button type="button" class="btn select" id="<@popupId>_applyBtn" 		onclick="<@popupId>.apply()" >저장</button>
			<button type="button" class="btn close"  id="<@popupId>_closeBtn" 		onclick="<@popupId>.close()" >취소</button>
		</div>
	</div>
</div>