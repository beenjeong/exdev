<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <script>

      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
           headerToolbar: {
                // left: 'prev,next today',
              left: '',
              center: 'title',
              right: 'timeGridDay,timeGridWeek,dayGridMonth,prev,next'
              // right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
           },
           views: {
               dayGridMonth: { // name of view
        	       titleFormat: { year: 'numeric', month: '2-digit', day: '2-digit' }
        	      // other view-specific options here
               }
           },
          dateClick: function() {
        	  console.log('a day has been clicked!');
       	  },
          eventClick : function(info) {
              //delete event from calender
             console.log('info.event.title =>'+info.event.title);
             console.log('info.event.id =>'+info.event.id);
             info.event.remove();
  
          },
       	  locale: 'ko', // 한국어 설정
          initialView: 'dayGridMonth',
          
          events: [
        	      {
        		    // Just an event
        		    title: 'Long Event',
        		    start: '2024-02-07',
        		    end: '2024-02-10',
        		    className: 'scheduler_basic_event'
        		  },
        		  {
        		    // Custom repeating event
        		    id: 999,
        		    title: 'Repeating Event',
        		    start: '2024-02-09T16:00:00',
        		    className: 'scheduler_basic_event'
        		  },
        		  {
        		    // Custom repeating event
        		    id: 999,
        		    title: 'Repeating Event',
        		    start: '2024-02-16T16:00:00',
        		    className: 'scheduler_basic_event'
        		  },
        		  {
        		    // Just an event
        		    title: 'Lunch',
        		    start: '2024-02-12T12:00:00',
        		    className: 'scheduler_basic_event',
        		  },
        		  {
        		    // Just an event
        		    title: 'Happy Hour',
        		    start: '2024-02-12T17:30:00',
        		    className: 'scheduler_basic_event'
        		  },
        		  {   
        		    // Monthly event
        		    id: 111,
        		    title: 'Meeting1',
        		    start: '2024-02-26T00:00:00',
        		    className: 'scheduler_basic_event',
        		    repeat: 1
        		  },
        		  {
        		    // Annual avent
        		    id: 222,
        		    title: 'Birthday Party',
        		    start: '2024-02-04T07:00:00',
        		    description: 'This is a cool event',
        		    className: 'scheduler_basic_event',
        		    repeat: 2
        		  },
        		  {
        		    // Weekday event
        		    title: 'Click for Google',
        		    url: 'http://google.com/',
        		    start: '2024-02-28',
        		    className: 'scheduler_basic_event',
        		    dow: [1,5]
        		  },
        	    {
        	      title  : 'event1',
        	      start  : '2024-02-01'
        	    },
        	    {
        	      title  : 'event2',
        	      start  : '2024-02-05',
        	      end    : '2024-02-07'
        	    },
        	    {
        	      title  : 'event3',
        	      start  : '2024-02-09T12:30:00',
        	      allDay : false // will make the time show
        	    }
        	  ],
       	
          
        });//var calendar
        
        calendar.render();

        calendar.on('dateClick', function(info) {
            console.log('clicked on ' + info.dateStr);
            
            if( info.dateStr == "2024-02-01" ){
            	var eventSources = calendar.getEventSources();
                console.log('EventSources => ' + eventSources);
                var len = eventSources.length;
                for (var i = 0; i < len; i++) { 
                	console.log('eventSources['+i+'] => ' + eventSources[i]);
                    //eventSources[i].remove(); 
                } 
            }else if( info.dateStr == "2024-02-02" ){
            	calendar.next();
            }else if( info.dateStr == "2024-02-03" ){
            	calendar.destroy();
            }else if( info.dateStr == "2024-02-04" ){
                console.log('2024-02-04 => ');
                var obj = new Object();
                obj.title = 'event1';
                obj.start = '2024-02-09T12:30:00';
                obj.end   = '2024-02-09T15:30:00';
                obj.textColor = "#fff";
                obj.color = "#8dcc76";
                calendar.addEvent(obj);
                
            }else if( info.dateStr == "2024-02-05" ){
                console.log('2024-02-05 => '+calendar.initialDate);
                calendar.initialDate;
                calendar.refetchEvents();
	        }else if( info.dateStr == "2024-02-06" ){
	            console.log('2024-02-06 => ');
	            //calendar.fullCalendar( 'addEventSource', {id:123, stuff:'stuff'});
            }else if( info.dateStr == "2024-02-07" ){
            	//calendar.fullCalendar( 'removeEvent', 222);
            }
            
            //calendar.next();
            //calendar.destroy();
        });

        calendar.on('eventClick', function(info) {
            console.log('eventClick on ' + info.dateStr);
            
        });
        // ... other calendar things here...
        calendar.fullCalendar( 'removeEvent', 123);
        /**/
        function test() {
            console.log("test");
            //calendar.destroy();
        }
        
      });

      function functionToExecute() {
    	  console.log("functionToExecute");
    	  test();
      }
    </script>
  </head>
  <body>
    <button onclick="functionToExecute()">Click</button>
    <div id='calendar'></div>
  </body>
</html>